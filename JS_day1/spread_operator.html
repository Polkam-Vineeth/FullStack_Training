<!DOCTYPE html>
<html>
<body>
<h1>The Spread operator</h1>
<script>

console.log("Hello JavaScript!");

    //to avoid the data loss or mutation

    //Problem case
    let cart = [];
    const product = { id: 0101, name: "Sneakers", price: 1740 };

    console.log("CART",cart);
    console.log("PRODUCT",product);

    cart.push(product); // same ref
    
    cart[0].qty = 3; // mutating the data in cart. (here it will also mutate the product)
    console.log("CART",cart);
    console.log("PRODUCT",product);
    

    //Solution using Spread Operator:
    let cart2 = [];
    const product2 = { id: 0101, name: "Sneakers", price: 1740 };
    // to clone objects : ... (spread operator)
    // immutability
    cart2 = [...cart2, { ...product2 }]; // new ref
    cart2[0].qty = 4; // using immutable objects
    console.log("CART",cart2);
    console.log("PRODUCT",JSON.stringify(product2));

</script>
</body>
</html>
